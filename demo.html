<!DOCTYPE html>
<html>
<head>
  <title>Simple Dragdrop demo</title>
  <meta charset="utf-8"/>
</head>

<body>
<style>
  .wrapper {
    padding: 20px;
    margin: 20px;
    border: 1px solid black;
    overflow: auto;
  }
  .box {
    height: 100px;
    width: 100px;
    background: grey;
  }

  body {
    margin: 10px;
  }

  .droparea {
    border: 1px solid black;
    height: 100px;
    width: 100px;
    float: left;
    margin-top: 20px;
    margin-right: 40px;
  }
  .droparea:after {
    clear: both;
  }
  .droparea p {
    margin: 0;
  }

  .drag-on {
    background: red;
  }
</style>
<h1>Simple Dragdrop Demo</h1>
<div class="wrapper wrapper-1">

  <h4>选项自定义</h4>
  <p>helper选项
    <select name="helper" id="helper">
      <option value="0">空（默认）</option>
      <option value="1">Dom元素</option>
      <option value="2">函数</option>
    </select>
  </p>

  <p>placeholder选项
    <select name="placeholder" id="placeholder">
      <option value="0">空（默认）</option>
      <option value="1"">Dom元素</option>
      <option value="2">函数</option>
    </select>
  </p>

  <p>cursorPosition选项
    <select name="cursorPosition" id="cursorPosition">
      <option value="0">auto</option>
      <option value="1">corner</option>
      <option value="2">center</option>
    </select>
  </p>
  <p>cursorOffset选项
  <p>top: <input type="text" id="top"/></p>
  <p>left: <input type="text" id="left"/></p>
  </p>
  <hr/>
  <h4>Demo</h4>


  <div class="box">dragme</div>
  <div class="droparea"></div>
  <div class="droparea"></div>
  <div class="droparea"></div>
</div>


<script src="vendor/bower/jquery/dist/jquery.js"></script>
<script src="vendor/bower/simple-module/lib/module.js"></script>
<script src="lib/dragdrop.js"></script>
<script>
  $(document).ready(function () {

    _helper = [null, $('<p>this is a helper</p>'), function(dragging){
      $helper = $(dragging).clone();
      $helper.css({
        background: 'yellow',
        height: '50px'
    });
      return $helper;
    }];

    _placeholder = [null, $('<p>this is a placeholder</p>'), function(dragging) {
      $placeholder = $(dragging).clone();
      $placeholder.css('background', 'blue');
      return $placeholder;
    }];

    _cursorPosition = ['auto', 'corner', 'center'];

    initDragdrop = function() {
      helper = _helper[$('#helper').val()];
      placeholder = _placeholder[$('#placeholder').val()];
      cursorPostion = _cursorPosition[$('#cursorPosition').val()];
      cursorOffset = {
        top: $('#top').val() | 0,
        left: $('#left').val() | 0
      };
      option = {
        el: document,
        draggable: '.box',
        droppable: '.droparea',
        helper: helper,
        placeholder: placeholder,
        cursorPosition: cursorPostion,
        cursorOffset: cursorOffset
      };
      dragdrop = simple.dragdrop(option);
      dragdrop.on('dragenter', function(e, dragging, target){
        $(target).addClass('drag-on');
      });
      dragdrop.on('dragleave', function(e, dragging, target){
        $(target).removeClass('drag-on');
      });
      dragdrop.on('dragend', function(e, dragging){
        $('.droparea').removeClass('drag-on');
      });
      dragdrop.on('drop', function(e, dragging, target){
        $(target).append($('<p>dropped!</p>'));
      })
    };

    $('select, input').change(function(){
      initDragdrop();
    });

    initDragdrop();
  });
</script>
</body>

</html>


